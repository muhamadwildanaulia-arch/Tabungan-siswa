<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tabungan Siswa — Starter</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <h1>Tabungan Siswa — Demo</h1>

    <section id="auth-section">
      <div id="user-info" hidden>
        <span id="user-email"></span> — <button id="btn-logout">Logout</button>
      </div>

      <div id="auth-forms">
        <input id="email" placeholder="email" type="email" />
        <input id="password" placeholder="password" type="password" />
        <button id="btn-login">Login</button>
        <button id="btn-register">Register (Siswa)</button>
      </div>
    </section>

    <section id="app" hidden>
      <div class="left">
        <h2>Dashboard</h2>
        <div id="balance-card">Saldo: <span id="balance">-</span></div>

        <h3>Form Transaksi</h3>
        <select id="student-select"></select>
        <input id="amount" type="number" placeholder="Jumlah (Rp)" />
        <select id="type">
          <option value="deposit">Setoran</option>
          <option value="withdrawal">Penarikan</option>
        </select>
        <input id="note" placeholder="Catatan (opsional)" />
        <button id="btn-submit">Kirim</button>

      </div>
      <div class="right">
        <h3>Riwayat Transaksi</h3>
        <ul id="tx-list"></ul>

        <h3>Transaksi Pending (untuk admin)</h3>
        <ul id="pending-list"></ul>
      </div>
    </section>

  </main>

  <script type="module">
    // Import SDKs (modular) -------------------------------------------------
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
    import {
      getAuth
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
    import {
      getFirestore
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    // Your web app's Firebase configuration (already provided)
    const firebaseConfig = {
      apiKey: "AIzaSyD7uAvnj-CtJ8rPmKGMz_3ihAdGM4lbQ6I",
      authDomain: "tabungansiswa-217ef.firebaseapp.com",
      projectId: "tabungansiswa-217ef",
      storageBucket: "tabungansiswa-217ef.firebasestorage.app",
      messagingSenderId: "47567754884",
      appId: "1:47567754884:web:448cbc34d090e3528294d1",
      measurementId: "G-6FHER7KBJ8"
    };

    // Initialize Firebase ----------------------------------------------------
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Expose firebase objects to app.js via window
    window.__FIREBASE = { app, auth, db };
  </script>

  <!-- Main application logic (separate file) -->
  <script type="module" src="app.js"></script>
</body>
</html>
